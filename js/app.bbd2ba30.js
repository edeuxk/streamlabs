(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],m=0,p=[];m<o.length;m++)r=o[m],i[r]&&p.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("c21b"),i=a.n(n);i.a},"207e":function(t,e,a){},"29c9":function(t,e,a){"use strict";var n=a("b367"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("div",{attrs:{id:"nav"}},[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{to:"/"}},[t._v("StreamLabs")]),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/"}},[t._v("\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t")]),a("b-nav-item",{attrs:{to:"/stats"}},[t._v("\n\t\t\t\t\t\t\tStats\n\t\t\t\t\t\t")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[a("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",type:"text",placeholder:"Search"}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[t._v("Search")])],1),a("Auth")],1)],1)],1)],1)]),a("router-view")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loggedIn?a("div",[a("span",{staticStyle:{color:"#fff",margin:"5px"}},[t._v(" "+t._s(t.user.displayName)+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:function(e){t.LOG_OUT()}}},[t._v("Log Out")])]):t._e(),t.loggedIn?t._e():a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.startLogin()}}},[t._v("Log in")])])},o=[],c=(a("96cf"),a("3040")),u=a("c93e"),l=a("2f62"),m={methods:Object(u["a"])({},Object(l["c"])(["LOG_OUT"]),{startLogin:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("logIn",localStorage);case 2:e=t.sent,localStorage.accessToken=e.accessToken,localStorage.displayName=e.displayName,localStorage.email=e.email,localStorage.photoURL=e.photoURL,localStorage.uid=e.uid,localStorage.m=e.m;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),computed:Object(u["a"])({},Object(l["b"])(["user","loggedIn"])),beforeCreate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("checkAuth",localStorage);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},p=m,d=(a("29c9"),a("2877")),v=Object(d["a"])(p,r,o,!1,null,null,null);v.options.__file="Auth.vue";var f=v.exports,h={components:{Auth:f}},g=h,b=(a("034f"),Object(d["a"])(g,i,s,!1,null,null,null));b.options.__file="App.vue";var _=b.exports,y=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.loggedIn?a("div",[a("h1",[t._v("Live streams")]),a("p",[t._v("Hello "+t._s(t.user.displayName)+" what do you want to watch today?")]),a("div",{staticClass:"row"},t._l(t.livestreams.items,function(e){return a("div",[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:e.snippet.channelTitle,"img-src":e.snippet.thumbnails.high.url,"img-alt":"Cover image youtube "+e.snippet.channelTitle,"img-top":"",tag:"article"}},[a("p",{staticClass:"card-text"},[t._v("\n\t\t\t\t\t\t"+t._s(e.snippet.title)+"\n\t\t\t\t\t\t"),a("br"),a("br"),t._v("\n\t\t\t\t\t\tStarted "+t._s(e.snippet.publishedAt)+"\n\t\t\t\t\t")]),a("b-button",{attrs:{href:"#/view/"+e.id.videoId,variant:"primary"}},[t._v("Watch stream")])],1)],1)}))]):a("div",[a("p",[t._v("Access restricted, please use the connect button.")])])])},S=[],C={computed:Object(u["a"])({},Object(l["b"])(["user","loggedIn","livestreams"])),beforeCreate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("checkAuth",localStorage);case 2:this.$store.dispatch("fetchLiveStreams");case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},T=C,L=(a("9be8"),Object(d["a"])(T,w,S,!1,null,null,null));L.options.__file="StreamList.vue";var O=L.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[t.loading?a("div",{staticClass:"col-md-6"},[a("p",[t._v(" Loading... ")])]):a("div",{staticClass:"col-md-6"},[a("h3",[t._v("Live stream")]),a("p",[t._v(t._s(t.videoData.items[0].snippet.title))]),a("div",{staticClass:"row"},[a("b-embed",{attrs:{type:"iframe",aspect:"16by9",src:"https://www.youtube.com/embed/"+t.videoData.items[0].id,allowfullscreen:"",allowautoplay:""}})],1),a("div",[t._v("\n\t\t\t\tViews: "+t._s(t.videoData.items[0].statistics.viewCount)+" "),a("br"),t._v("\n\t\t\t\tLikes: "+t._s(t.videoData.items[0].statistics.likeCount)+" "),a("br"),t._v("\n\t\t\t\tDislikes: "+t._s(t.videoData.items[0].statistics.dislikeCount)+" "),a("br"),t._v("\n\t\t\t\tFavorites: "+t._s(t.videoData.items[0].statistics.favoriteCount)+" "),a("br"),t._v("\n\t\t\t\tComments: "+t._s(t.videoData.items[0].statistics.commentCount)+" "),a("br")])]),a("div",{staticClass:"col-md-6"},[a("h3",[t._v("Live chat")]),a("div",{staticStyle:{"margin-top":"10px",height:"450px","overflow-y":"scroll"},attrs:{id:"messages"}},t._l(t.videoComments.items,function(e){return t.loading?a("div",[a("p",[t._v(" Loading... ")])]):a("b-list-group-item",[a("b-img",{attrs:{slot:"aside",src:e.authorDetails.profileImageUrl,width:"24",alt:"Profil picture of"+e.authorDetails.displayName},slot:"aside"}),a("a",{attrs:{href:e.authorDetails.channelUrl,target:"_blank"}},[t._v(t._s(e.authorDetails.displayName))]),t._v(" "+t._s(e.snippet.displayMessage)+"\n\t\t\t\t")],1)})),t.loading?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{type:"text",id:"inputPassword",placeholder:"Enter your message"},domProps:{value:t.message},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.sendComment(e):null},input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])},E=[],k={data:function(){return{message:""}},computed:Object(u["a"])({},Object(l["b"])(["user","loggedIn","livestreams","videoData","loading","videoComments"])),beforeCreate:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("checkAuth",localStorage);case 2:return t.next=4,this.$store.dispatch("fetchLiveInformation",this.$route.params.videoID);case 4:return t.next=6,this.$store.dispatch("fetchLiveComments");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{sendComment:function(){this.$store.dispatch("postComment",this.message),this.message=""}},mounted:function(){var t=this,e=this.$el.querySelector("#messages");e.scrollTop=e.scrollHeight,setInterval(function(){console.log("Hello"),t.$store.dispatch("fetchLiveComments");var e=t.$el.querySelector("#messages");e.scrollTop=e.scrollHeight},1500)}},I=k,x=(a("f0fa"),Object(d["a"])(I,D,E,!1,null,null,null));x.options.__file="StreamVideo.vue";var R=x.exports;n["a"].use(y["a"]);var j=new y["a"]({base:"/",routes:[{path:"/",component:O},{path:"/view/:videoID",component:R},{path:"/auth",component:f}]}),A=a("8aa5"),N={apiKey:"AIzaSyBTq_Uti9tRC-j_EjNp4tUPJ4q2vCxTteQ",authDomain:"streamblabs-itw.firebaseapp.com",databaseURL:"https://streamblabs-itw.firebaseio.com",projectId:"streamblabs-itw",storageBucket:"streamblabs-itw.appspot.com",messagingSenderId:"803486570207"};Object(A["initializeApp"])(N);var U={auth:A["auth"]},P={user:{},credential:""},$={user:function(t){return t.user},loggedIn:function(t){return"uid"in t.user},credential:function(t){return t.credential}},M={SET_USER:function(t,e){t.user=e},SET_CREDENTIAL:function(t,e){t.credential=e},LOG_OUT:function(){U.auth().signOut()}},G={logIn:function(t){return new Promise(function(e,a){var n=new U.auth.GoogleAuthProvider;n.addScope("https://www.googleapis.com/auth/youtube"),n.addScope("https://www.googleapis.com/auth/youtube.force-ssl"),U.auth().signInWithPopup(n).then(function(a){var n=a.user,i=n.displayName,s=n.email,r=n.photoURL,o=n.uid,c=n.m,u={displayName:i,email:s,photoURL:r,uid:o,m:c};return t.commit("SET_USER",u),t.commit("SET_CREDENTIAL",a.credential.accessToken),e({accessToken:a.credential.accessToken,displayName:u.displayName,email:u.email,photoURL:u.photoURL,uid:u.uid,m:u.m})})})},checkAuth:function(t,e){return new Promise(function(a,n){if(e.accessToken&&e.displayName&&e.email&&e.photoURL&&e.uid&&e.m){var i=e.displayName,s=e.email,r=e.photoURL,o=e.uid,c=e.m,u={displayName:i,email:s,photoURL:r,uid:o,m:c};return t.commit("SET_USER",u),t.commit("SET_CREDENTIAL",e.accessToken),a(e)}})}},V={state:P,getters:$,mutations:M,actions:G},z=a("bc3a"),H=a.n(z),q={livestreams:[],videoData:[],videoComments:[],loading:!0},J={livestreams:function(t){return t.livestreams},videoData:function(t){return t.videoData},loading:function(t){return t.loading},videoComments:function(t){return t.videoComments}},B={SET_LIVESTREAMS:function(t,e){t.livestreams=e.data},SET_VIDEO_DATA:function(t,e){t.videoData=e.data},LOADING:function(t,e){t.loading=e},UPDATE_COMMENTS:function(t,e){t.videoComments=e.data}},W={fetchLiveStreams:function(t){H.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=live&type=video&videoCategoryId=20&maxResults=25&key="+t.getters.user.m).then(function(e){t.commit("SET_LIVESTREAMS",e)})},fetchLiveInformation:function(t,e){return new Promise(function(a,n){try{H.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet,liveStreamingDetails%2CcontentDetails%2Cstatistics&id="+e+"&key="+t.getters.user.m).then(function(e){return t.commit("SET_VIDEO_DATA",e),t.commit("LOADING",!1),a(e)})}catch(t){return n(t)}})},fetchLiveComments:function(t){return new Promise(function(e,a){try{H.a.get("https://www.googleapis.com/youtube/v3/liveChat/messages?liveChatId="+t.getters.videoData.items[0].liveStreamingDetails.activeLiveChatId+"&maxResults=200&profileImageSize=24&part=snippet,id,authorDetails&key="+t.getters.user.m).then(function(a){return t.commit("UPDATE_COMMENTS",a),e()})}catch(t){return a()}})},postComment:function(t,e){return new Promise(function(a,n){try{H.a.post("https://www.googleapis.com/youtube/v3/liveChat/messages?part=snippet&access_token="+t.getters.credential,{snippet:{liveChatId:t.getters.videoData.items[0].liveStreamingDetails.activeLiveChatId,type:"textMessageEvent",textMessageDetails:{messageText:e}}}).then(function(t){return a()})}catch(t){return n()}})}},F={state:q,getters:J,mutations:B,actions:W};n["a"].use(l["a"]),n["a"].use(U);var K=new l["a"].Store({modules:{auth:V,liveStreams:F},strict:!1}),Q=a("2b27"),X=a.n(Q),Y=a("9f7b");a("f9e3"),a("2dd8");n["a"].use(Y["a"]),n["a"].use(X.a),n["a"].config.productionTip=!1,new n["a"]({router:j,store:K,render:function(t){return t(_)}}).$mount("#app")},"9be8":function(t,e,a){"use strict";var n=a("cb6c"),i=a.n(n);i.a},b367:function(t,e,a){},c21b:function(t,e,a){},cb6c:function(t,e,a){},f0fa:function(t,e,a){"use strict";var n=a("207e"),i=a.n(n);i.a}});
//# sourceMappingURL=app.bbd2ba30.js.map